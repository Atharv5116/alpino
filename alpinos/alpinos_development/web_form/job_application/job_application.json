{
 "allow_comments": 1,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "anonymous": 0,
 "apply_document_permissions": 0,
 "client_script": "\n// Ensure job_requisition from URL parameter job_title is set in form data\n(function() {\n    const urlParams = new URLSearchParams(window.location.search);\n    const jobTitle = urlParams.get('job_title');\n    \n    if (!jobTitle) return;\n    \n    console.log('\ud83d\udd0d Found job_title in URL:', jobTitle);\n    \n    // Wait for Frappe and web form to be ready\n    frappe.ready(function() {\n        // Wait for web form to be initialized\n        function waitForWebForm(callback) {\n            if (frappe.web_form && frappe.web_form.doc !== undefined) {\n                callback();\n            } else {\n                setTimeout(function() {\n                    waitForWebForm(callback);\n                }, 100);\n            }\n        }\n        \n        waitForWebForm(function() {\n            function setJobRequisition() {\n                if (!frappe.web_form) return false;\n                \n                try {\n                    // CRITICAL: Set job_requisition (this is the required field)\n                    if (frappe.web_form.doc) {\n                        frappe.web_form.doc.job_requisition = jobTitle;\n                        console.log('\u2705 Set job_requisition in doc:', jobTitle);\n                    }\n                    \n                    // Also set job_title for compatibility\n                    if (frappe.web_form.doc) {\n                        frappe.web_form.doc.job_title = jobTitle;\n                    }\n                    \n                    // Set via web form API - job_requisition (the actual form field)\n                    if (frappe.web_form.set_value) {\n                        frappe.web_form.set_value('job_requisition', jobTitle);\n                        frappe.web_form.set_value('job_title', jobTitle);\n                    }\n                    \n                    // Set via field if available\n                    if (frappe.web_form.fields_dict) {\n                        // Set job_requisition field (the visible form field)\n                        if (frappe.web_form.fields_dict.job_requisition) {\n                            const field = frappe.web_form.fields_dict.job_requisition;\n                            if (field) {\n                                if (field.set_value) {\n                                    field.set_value(jobTitle);\n                                }\n                                if (field.$input) {\n                                    field.$input.val(jobTitle);\n                                    field.$input.trigger('change');\n                                }\n                            }\n                        }\n                        // Also set job_title if field exists\n                        if (frappe.web_form.fields_dict.job_title) {\n                            const field = frappe.web_form.fields_dict.job_title;\n                            if (field && field.set_value) {\n                                field.set_value(jobTitle);\n                            }\n                        }\n                    }\n                    \n                    return true;\n                } catch (e) {\n                    console.error('\u274c Error setting job_requisition:', e);\n                    return false;\n                }\n            }\n            \n            // Set immediately\n            setJobRequisition();\n            \n            // Retry a few times\n            let attempts = 0;\n            const retry = setInterval(function() {\n                attempts++;\n                if (setJobRequisition() || attempts >= 5) {\n                    clearInterval(retry);\n                }\n            }, 300);\n            \n            // CRITICAL: Ensure job_requisition before submit\n            $(document).on('submit', '.web-form', function(e) {\n                if (frappe.web_form && frappe.web_form.doc) {\n                    frappe.web_form.doc.job_requisition = jobTitle;\n                    frappe.web_form.doc.job_title = jobTitle;\n                    console.log('\u2705 Set job_requisition before submit:', jobTitle);\n                }\n            });\n            \n            // Intercept save method safely\n            if (frappe.web_form && frappe.web_form.save) {\n                const originalSave = frappe.web_form.save.bind(frappe.web_form);\n                frappe.web_form.save = function() {\n                    if (this.doc) {\n                        this.doc.job_requisition = jobTitle;\n                        this.doc.job_title = jobTitle;\n                    }\n                    return originalSave();\n                };\n            }\n        });\n    });\n})();",
 "condition_json": "[]",
 "creation": "2016-09-10 02:53:16.598314",
 "doc_type": "Job Applicant",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "introduction_text": "",
 "is_standard": 1,
 "list_columns": [],
 "login_required": 0,
 "max_attachment_size": 0,
 "modified": "2026-01-24 10:04:29.087195",
 "modified_by": "Administrator",
 "module": "Alpinos Development",
 "name": "job-application",
 "owner": "Administrator",
 "published": 1,
 "route": "job-application",
 "show_attachments": 0,
 "show_list": 0,
 "show_sidebar": 1,
 "success_message": "Thank you for applying.",
 "success_url": "/jobs",
 "title": "Job Application",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "applicant_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Applicant Name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "email_id",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Email Address",
   "max_length": 0,
   "max_value": 0,
   "options": "Email",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "phone_number",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Phone Number",
   "max_length": 0,
   "max_value": 0,
   "options": "Phone",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "marital_status",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Marital Status",
   "max_length": 0,
   "max_value": 0,
   "options": "\nSingle\nMarried\nDivorced\nWidowed",
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "city_state",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "City / State",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "resume_attachment",
   "fieldtype": "Attach",
   "hidden": 0,
   "label": "Resume/CV",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "work_details_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Work Details",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "job_title",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Job Opening",
   "max_length": 0,
   "max_value": 0,
   "options": "Job Opening",
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "application_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Application Date",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "total_experience",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Total Experience",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "source",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Source",
   "max_length": 0,
   "max_value": 0,
   "options": "Job Applicant Source",
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "portfolio",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Portfolio",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "expected_date_of_joining",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Expected Date of Joining",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_history_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Employment History",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_company_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Company Name",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_designation",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Designation",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_current_ctc",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Current CTC / Annum",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_expected_ctc",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Expected CTC / Annum",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_start_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Start Date",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_end_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "End Date",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_reason_for_leaving",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "Reason for Leaving",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "employment_notice_period",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Notice Period",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "qualification_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Qualification",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "degree",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Degree",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  }
 ]
}